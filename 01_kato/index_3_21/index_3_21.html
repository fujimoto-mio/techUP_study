<!DOCTYPE html>
 <html>
 <head>
   <meta charset="UTF-8">
   <title>analog Clock</title>
 </head>

   <script type="text/javascript">
     // 定数
     const CEN_X = 200;//中心値
     const CEN_Y = 200;//中心値
     const SEMICIRCLE = 180;//サイクル

     // 針表示関数
     function needle(fig) {
       // 現在時刻を取得
       var now = new Date();

       // 各針の角度を計算
       var angle_s = Math.round(90 -  6 * now.getSeconds()); // 秒針

       // 秒針 円周側の座標を取得
       var pos_sx = Math.cos(angle_s*(Math.PI/SEMICIRCLE))*150;
       var pos_sy = Math.sin(angle_s*(Math.PI/SEMICIRCLE))*150;

       line(fig,pos_sx,pos_sy, 3,"blue");
     }

     // 針の直線を表示する関数
     function line(fig,pos_x,pos_y,thick,color) {
       fig.beginPath();                      // 新しいパスを作成
       fig.moveTo(CEN_X,CEN_Y);              // 線の開始座標
       //fig.lineTo(CEN_X+pos_x,CEN_Y-pos_y);  // 線の終了座標
       var img = new Image();
       img.src = "S_18243614.jpg";
       img.onload = function() {
          fig.drawImage(img, 0, 0,2000,2000,CEN_X+pos_x,CEN_Y-pos_y,100,100);
          //dw,dhは画像がデカくなるdhだけ引数大きくすると画像が縦に伸びる、dwは横に伸びる
          //swは横に縮む
          }
     }

     // 円表示関数
     function circle(fig,mode,color,thick) {
       fig.beginPath();                      // 新しいパスを作成
       fig.arc(CEN_X,CEN_Y,180,0,Math.PI*2); // 円を描画
       fig.closePath();                      // パスの終了
     }

     // 描画開始関数
     function strDraw() {
       // ドキュメントオブジェクト作成
       var id1 = document.getElementById('pos');

       // 2Dオブジェクト作成
       var fig = id1.getContext('2d');

       // 画面初期化
       fig.clearRect(0,0,500,500);
       //0,0,400,400<=400より小さいとチューチュートレインする


       // 円の輪郭描画
       circle(fig, "stroke", "black", 10);//いらなさそう

       // 針描画
       needle(fig);
     }

     // 開始関数
     function strClock() {
       setInterval("strDraw();",100);
      //<=値100にしたらなんかチカチカしなくなった（関数，処理間隔端にはm秒）
    //bodyのwとhの値大きくすれば画像の全体像写る！！！！
     }
    
   </script>
   <body onload="strClock();">
     <canvas id="pos" width="1000" height="1000"></canvas>
   </body>
 </html>
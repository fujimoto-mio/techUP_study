function d(){return new Promise(e=>{if(window.YT&&window.YT.Player)return e();const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),window.onYouTubeIframeAPIReady=()=>e()})}function u(e){new YT.Player("yt-player",{videoId:e,playerVars:{autoplay:1,controls:0,loop:1,playlist:e,mute:1,playsinline:1,modestbranding:1,rel:0},events:{onReady:t=>{t.target.mute(),t.target.playVideo()}}})}const m=new IntersectionObserver(([e],t)=>{e.isIntersecting&&(e.target.querySelectorAll(".hero-content_copy-en, .hero-content_copy-ja").forEach((o,s)=>setTimeout(()=>o.classList.add("fade-in"),s*120)),t.unobserve(e.target))},{threshold:.2});let i=window.scrollY;const a=new IntersectionObserver(e=>{e.forEach(t=>{const o=document.querySelector(".global-nav"),s=document.querySelector(".js-bg-video"),r=window.scrollY,c=r<i;i=r,t.isIntersecting?(t.target.querySelectorAll(".about-section_left, .about-section_right p, .about-section_link-wrapper").forEach((n,l)=>{n.classList.contains("fade-in")||setTimeout(()=>n.classList.add("fade-in"),l*120)}),o==null||o.classList.add("is-visible"),s==null||s.classList.add("is-blur")):c&&(o==null||o.classList.remove("is-visible"),s==null||s.classList.remove("is-blur"))})},{threshold:.15,rootMargin:"0px 0px 30% 0px"});document.querySelectorAll(".about-section").forEach(e=>a.observe(e));const b=new IntersectionObserver((e,t)=>{e.forEach(o=>{if(!o.isIntersecting)return;window.matchMedia("(max-width: 768px)").matches?(o.target.classList.add("fade-in-img"),setTimeout(()=>{o.target.classList.add("fade-in-text")},250)):o.target.classList.add("fade-in"),t.unobserve(o.target)})},{threshold:.3});document.addEventListener("DOMContentLoaded",async()=>{await d(),u(window._GLOBE_BG_VIDEO_ID||"qZ_BO9WMSTs");const e=document.querySelector(".hero-content");e&&m.observe(e),document.querySelectorAll(".about-section").forEach(t=>a.observe(t)),document.querySelectorAll(".gn-media, .gn-studio, .gn-academy").forEach(t=>b.observe(t))});

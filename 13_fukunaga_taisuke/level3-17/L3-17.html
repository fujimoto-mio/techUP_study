<!DOCTYPE html>
<html lang="Ja">
<head>
  <meta charset="utf-8">
  <title>DOM総合課題【Todoリスト】</title>

</head>
<body>
  <h1>Todoアプリ</h1>
  <div>
    <label for="input-todo-box">Todoタスクの入力 : </label>
    <input id="input-todo-box" type="text">
    <button id="add-button">追加</button>
  </div>
 
  <h2>現在のTodoリスト</h2>
  <ul id="todo-list"></ul>
 
  <script>
     
     'use strict' 


      function todo() {
     const todos = [];
     const inputBox = document.getElementById('input-todo-box');
     const addButton = document.getElementById('add-button');
     const listContainer = document.getElementById('todo-list');
     addButton.addEventListener('click', (event) => {
       const todo = inputBox.value;
       inputBox.value = '';
       if (todo) {
         todos.push(todo);
         showTodos();
       }
     });

     function showTodos() {
       while(listContainer.firstChild) {
         listContainer.removeChild( listContainer.firstChild );
       }

       todos.forEach((todo, index) => {
         const todoItem = document.createElement('li');
         const taskNumber = index + 1;
         todoItem.textContent = `${taskNumber} : ${todo}`;
         listContainer.appendChild(todoItem);

         const deleteButton = document.createElement('button');
         deleteButton.textContent = '削除';
         deleteButton.addEventListener('click', (event) => {
           deleteTodo(index);
         });
         todoItem.appendChild(deleteButton);
       });
     }

     function deleteTodo(index) {
       todos.splice(index, 1);
       showTodos();
     }
   }

   todo();
  </script>
</body>
</html>